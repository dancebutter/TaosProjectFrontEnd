var pageslideDirective=angular.module("pageslide-directive",[]);var boolGlobalAngularPageSlideModifiedbyGe=true;pageslideDirective.directive("pageslide",["$interval",function($interval){var defaults={};return{restrict:"EA",replace:false,transclude:false,scope:true,link:function($scope,el,attrs){function psClose(e,t){if(e.style.width!==0&&e.style.width!==0){content.style.display="none";switch(t.side){case"right":e.style.width="0px";break;case"left":e.style.width="0px";break;case"top":e.style.height="0px";break;case"bottom":e.style.height="0px";break}}}function psOpen(e,t){if(e.style.width!==0&&e.style.width!==0){switch(t.side){case"right":e.style.width=t.size;break;case"left":e.style.width=t.size;break;case"top":e.style.height=t.size;break;case"bottom":e.style.height=t.size;break}setTimeout(function(){content.style.display="block"},t.speed*1e3)}}var param={};var strGeAttr="gePageSlideSlideWasSetToInitialState";param.enableGeArgusBehavior=attrs.psEnableGeArgusBehavior||false;param.side=attrs.pageslide||"right";param.speed=attrs.psSpeed||"0.5";param.size=attrs.psSize||"300px";param.className=attrs.psClass||"ng-pageslide";var content=null;var boolNoChildren=true;if(param.enableGeArgusBehavior){boolNoChildren=false}else{boolNoChildren=el.children()&&el.children().length}if(boolNoChildren){content=el.children()[0]}else{content=attrs.href?document.getElementById(attrs.href.substr(1)):document.getElementById(attrs.psTarget.substr(1))}if(!content)throw new Error("You have to elements inside the <pageslide> or you have not specified a target href");var slider=document.createElement("div");slider.className=param.className;slider.style.transitionDuration=param.speed+"s";slider.style.webkitTransitionDuration=param.speed+"s";slider.style.zIndex=1e3;slider.style.position="fixed";slider.style.width=0;slider.style.height=0;slider.style.transitionProperty="width, height";switch(param.side){case"right":slider.style.height=attrs.psCustomHeight||"100%";slider.style.top=attrs.psCustomTop||"0px";slider.style.bottom=attrs.psCustomBottom||"0px";slider.style.right=attrs.psCustomRight||"0px";break;case"left":slider.style.height=attrs.psCustomHeight||"100%";slider.style.top=attrs.psCustomTop||"0px";slider.style.bottom=attrs.psCustomBottom||"0px";slider.style.left=attrs.psCustomLeft||"0px";break;case"top":slider.style.width=attrs.psCustomWidth||"100%";slider.style.left=attrs.psCustomLeft||"0px";slider.style.top=attrs.psCustomTop||"0px";slider.style.right=attrs.psCustomRight||"0px";break;case"bottom":slider.style.width=attrs.psCustomWidth||"100%";slider.style.bottom=attrs.psCustomBottom||"0px";slider.style.left=attrs.psCustomLeft||"0px";slider.style.right=attrs.psCustomRight||"0px";break}document.body.appendChild(slider);slider.appendChild(content);if($(el).attr(strGeAttr)==undefined){$(el).attr(strGeAttr,true);var boolPsOpen=eval("$scope."+attrs.psOpen);boolPsOpen=!!boolPsOpen;if(boolPsOpen){psOpen(slider,param)}else{psClose(slider,param)}}else{}$scope.$watch(attrs.psOpen,function(e,t){if(e!==t){if(!!e){psOpen(slider,param)}else{psClose(slider,param)}}else{}});if(attrs.psAutoClose){$scope.$on("$locationChangeStart",function(){psClose(slider,param)});$scope.$on("$stateChangeStart",function(){psClose(slider,param)})}var close_handler=attrs.href?document.getElementById(attrs.href.substr(1)+"-close"):null;if(el[0].addEventListener){el[0].addEventListener("click",function(e){e.preventDefault();psOpen(slider,param)});if(close_handler){close_handler.addEventListener("click",function(e){e.preventDefault();psClose(slider,param)})}}else{el[0].attachEvent("onclick",function(e){e.returnValue=false;psOpen(slider,param)});if(close_handler){close_handler.attachEvent("onclick",function(e){e.returnValue=false;psClose(slider,param)})}}}}}])